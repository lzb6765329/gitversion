# Execute GitVersion

This GitHub Action executes GitVersion and outputs version details.

## Inputs

| Name | Description | Required | Default |
| ---- | ----------- | -------- | ------- |
| `targetPath` | Specify target path of the Git repository to analyze | false | '.' |
| `useConfigFile` | Whether to use a custom GitVersion configuration file | false | 'false' |
| `configFilePath` | Path to the GitVersion configuration file (GitVersion.yml) | false | 'GitVersion.yml' |
| `updateAssemblyInfo` | Whether to update assembly info files | false | 'false' |
| `additionalArguments` | Additional command line arguments for GitVersion | false | '' |

## Outputs

The action outputs all variables generated by GitVersion. Some of the most common ones are:

| Output | Description |
| ------ | ----------- |
| `major` | The Major version |
| `minor` | The Minor version |
| `patch` | The Patch version |
| `majorMinorPatch` | The Major.Minor.Patch version |
| `semVer` | The full SemVer version |
| `fullSemVer` | The full SemVer version with metadata |
| `branchName` | The branch name |
| `sha` | The Git SHA |

For a complete list of all outputs, see the [GitVersion documentation](https://gitversion.net/docs/reference/variables).

## Usage

```yaml
steps:
- name: Checkout repository
  uses: actions/checkout@v3
  with:
    fetch-depth: 0  # Required for GitVersion

- name: Setup .NET
  uses: actions/setup-dotnet@v2
  with:
    dotnet-version: '6.0.x'

- name: Setup GitVersion
  uses: your-username/setup-gitversion@v1

- name: Execute GitVersion
  id: gitversion
  uses: your-username/execute-gitversion@v1
  with:
    useConfigFile: 'true'
    configFilePath: 'GitVersion.yml'

- name: Use Version
  run: |
    echo "SemVer: ${{ steps.gitversion.outputs.semVer }}"
    echo "FullSemVer: ${{ steps.gitversion.outputs.fullSemVer }}"
    echo "NuGetVersion: ${{ steps.gitversion.outputs.nuGetVersion }}"
```

## Requirements

- This action requires GitVersion to be installed on the runner. Use the `your-username/setup-gitversion@v1` action before this one.
- GitVersion requires the full git history. Make sure to set `fetch-depth: 0` in the `actions/checkout` step.

## Configuration File

If you want to configure GitVersion's behavior, you can create a `GitVersion.yml` file in your repository and set `useConfigFile: 'true'` in the action inputs. For more information about GitVersion configuration, see the [GitVersion documentation](https://gitversion.net/docs/reference/configuration). 